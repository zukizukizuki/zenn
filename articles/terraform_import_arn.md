---
title: "Terraformã§ãƒªã‚½ãƒ¼ã‚¹ã‚’`import`ãƒ–ãƒ­ãƒƒã‚¯ãªã—ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹æ–¹æ³•"
emoji: "ðŸ§¹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [AWS , GitHub Actions, Github , terraform]
published: false
---

Terraform v1.5.0ä»¥é™ã§ã¯ã€`terraform plan --generate-config-out`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å¾“æ¥ã®`terraform import`ã‚³ãƒžãƒ³ãƒ‰ã‚„[importãƒ–ãƒ­ãƒƒã‚¯](https://zukkie.link/terraform%e3%81%a7%e3%83%ad%e3%83%bc%e3%82%ab%e3%83%ab%e3%81%8b%e3%82%89import%e3%81%99%e3%82%8b%e6%96%b9%e6%b3%95/)ã‚’ä½¿ç”¨ã›ãšã«ã€ãƒªã‚½ãƒ¼ã‚¹ã‚’Terraformç®¡ç†ä¸‹ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã®æ–¹æ³•ã§ã¯ã€ç›´æŽ¥ãƒªã‚½ãƒ¼ã‚¹ã®ARNã‚„IDã‚’ãƒªã‚½ãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯å†…ã«è¨˜è¼‰ã—ã€è¨­å®šã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## æ‰‹é †

### 1. ãƒªã‚½ãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ã®å®šç¾©
å¯¾è±¡ãƒªã‚½ãƒ¼ã‚¹ã®ARNã¾ãŸã¯IDã‚’ä½¿ç”¨ã—ã¦ã€Terraformãƒ•ã‚¡ã‚¤ãƒ«å†…ã«ä»¥ä¸‹ã®ã‚ˆã†ãªãƒªã‚½ãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

```
resource "aws_lambda_function" "event_call_cloud_workflows" {
  arn = "arn:aws:lambda:ap-northeast-1::function:"
}

resource "aws_security_group" "example_sg" {
  id = ""
}
```

### 2. è¨­å®šã®è‡ªå‹•ç”Ÿæˆ
æ¬¡ã«ã€`terraform plan --generate-config-out`ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®šã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

ã‚³ãƒžãƒ³ãƒ‰ä¾‹:

```
terraform plan --generate-config-out imported_resources.tf
```

ã“ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: `imported_resources.tf`ï¼‰ã«å¯¾è±¡ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®šãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

## åˆ©ç‚¹
1. å¾“æ¥ã®`terraform import`ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ç”¨ã›ãšã€ä¸€æ‹¬ã§è¤‡æ•°ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®šã‚’ç”Ÿæˆã§ãã‚‹ã€‚
2. ç”Ÿæˆã•ã‚ŒãŸè¨­å®šã‚’ãã®ã¾ã¾åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€æ‰‹å‹•ã§ã®ãƒªã‚½ãƒ¼ã‚¹è¨˜è¿°ã‚’çœç•¥ã§ãã‚‹ã€‚

## æ³¨æ„äº‹é …
- ç”Ÿæˆã•ã‚ŒãŸè¨­å®šã«ã¯ä¸è¦ãªå±žæ€§ã‚„è¿½åŠ ä¿®æ­£ãŒå¿…è¦ãªå ´åˆãŒã‚ã‚‹ãŸã‚ã€å¿…ãšç¢ºèªã—ã¦é©åˆ‡ã«ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚
- ã“ã®æ©Ÿèƒ½ã¯Terraform v1.5.0ä»¥é™ã§ä½¿ç”¨å¯èƒ½ã§ã™ã€‚


## é–¢é€£ãƒªãƒ³ã‚¯
å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„å®Ÿè£…ä¾‹ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„:
- [Terraform v1.5.0 ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆ](https://www.hashicorp.com/releases)
- [Terraform Importæ©Ÿèƒ½ã®è©³ç´°](https://developer.hashicorp.com/terraform/cli/import) -->
